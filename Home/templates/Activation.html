{% extends 'base.html' %}
{% load static %}
{% block content%}
{% include 'main_navbar.html' %}
<section class=" py-4 d-flex flex-column align-items-center">
    <!-- Academic Session Filter -->
    <div class="mb-4 w-75">
        <form method="get" class="d-flex align-items-center justify-content-center">
            <label for="session" class="me-3 fw-bold">Select Academic Session:</label>
            <select name="session" id="session" class="form-select w-auto me-3" onchange="this.form.submit()">
                {% for session in academic_sessions %}
                <option value="{{ session.id }}" {% if selected_session.id == session.id %}selected{% endif %}>
                    {{ session.session }}
                </option>
                {% endfor %}
            </select>
            <noscript><button type="submit" class="btn btn-primary">Filter</button></noscript>
        </form>
    </div>

    <!-- GPLA Card Front -->
    <div class="d-flex mb-4 align-items-center">
        <h3>GPL Academy Students Card (Front)</h3>
        <button id="download_btn" class="btn btn-primary ms-5">download Cards
            <span class="spinner-border spinner-border-sm d-none ms-1" role="status" aria-hidden="true"></span>
        </button>
    </div>
    <div id="student_card_container" class="student_card_container">
        <img class="studentcardimg" src="{% static 'images/GPLA Front.jpg' %}" alt="">
        <img class="studentcardimg" src="{% static 'images/GPLA Front.jpg' %}" alt="">
        <img class="studentcardimg" src="{% static 'images/GPLA Front.jpg' %}" alt="">
        <img class="studentcardimg" src="{% static 'images/GPLA Front.jpg' %}" alt="">
        <img class="studentcardimg" src="{% static 'images/GPLA Front.jpg' %}" alt="">
        <img class="studentcardimg" src="{% static 'images/GPLA Front.jpg' %}" alt="">
        <img class="studentcardimg" src="{% static 'images/GPLA Front.jpg' %}" alt="">
        <img class="studentcardimg" src="{% static 'images/GPLA Front.jpg' %}" alt="">
        <img class="studentcardimg" src="{% static 'images/GPLA Front.jpg' %}" alt="">
        <img class="studentcardimg" src="{% static 'images/GPLA Front.jpg' %}" alt="">
        <img class="studentcardimg" src="{% static 'images/GPLA Front.jpg' %}" alt="">
        <img class="studentcardimg" src="{% static 'images/GPLA Front.jpg' %}" alt="">
        <img class="studentcardimg" src="{% static 'images/GPLA Front.jpg' %}" alt="">
        <img class="studentcardimg" src="{% static 'images/GPLA Front.jpg' %}" alt="">
        <img class="studentcardimg" src="{% static 'images/GPLA Front.jpg' %}" alt="">
        <img class="studentcardimg" src="{% static 'images/GPLA Front.jpg' %}" alt="">
        <img class="studentcardimg" src="{% static 'images/GPLA Front.jpg' %}" alt="">
        <img class="studentcardimg" src="{% static 'images/GPLA Front.jpg' %}" alt="">
        <img class="studentcardimg" src="{% static 'images/GPLA Front.jpg' %}" alt="">
        <img class="studentcardimg" src="{% static 'images/GPLA Front.jpg' %}" alt="">
        <img class="studentcardimg" src="{% static 'images/GPLA Front.jpg' %}" alt=""> 
    </div>

    <!-- GPLA Card Back -->
    <div class="d-flex my-5 align-items-center">
        <h3>GPL Academy Students Card (Back)</h3>
        <div class="ms-3">
            {% if students.has_previous %}
            <a href="?session={{ selected_session.id }}&page=1">&laquo First</a>
            <a href="?session={{ selected_session.id }}&page={{ students.previous_page_number }}">Previous</a>
            {% endif %}

            page <span class="fw-bold">{{ students.number }}</span> of <span class="fw-bold">{{ students.paginator.num_pages }}</span>

            {% if students.has_next %}
            <a class="me-2" href="?session={{ selected_session.id }}&page={{ students.next_page_number }}">Next</a>
            <a class="me-2" href="?session={{ selected_session.id }}&page={{ students.paginator.num_pages }}">Last &raquo</a>
            {% endif %}
        </div>
        <button id="download_back_btn" class="btn btn-primary ms-5">download Cards 
            <span class="spinner-border spinner-border-sm d-none ms-1" role="status" aria-hidden="true"></span>
        </button>
    </div>
    <div id="student_card_back_container" class="student_card_container">
        {% for student_data in students %}
        <div class="studentcard">
            <img class="studentcardimg" src="{% static 'images/GPLA Back (empty).jpg' %}" alt="">
            <div class="text-overlay">
                <h1>{{ student_data.student_class }}</h1>
                <h2>{{ student_data.student.student_name }}</h2>
                <p>{{ student_data.student.student_id }}</p>
                <p>{{ student_data.student.student_pin }}</p>
            </div>
        </div>
        {% endfor %}
    </div>


</section>
<script src="{% static 'js/Access_cards.js' %}"></script>
{% include 'main_footer.html' %}
{% endblock %}

